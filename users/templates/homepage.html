{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gold Cinema - Home</title>
    <!-- Assuming these external styles are available, but all enhancements are inline -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/home-page.css' %}">
    <link rel="stylesheet" href="{% static 'css/account-modal.css' %}">
    <link rel="stylesheet" href="{% static 'css/loader.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Cinzel:wght@400..900&display=swap"
        rel="stylesheet">

</head>

<body>
    {% include 'includes/loader.html' %}

    <!-- Sidebar - Enhanced with Glassmorphism -->
    <div class="sidebar" id="sidebar">
        <h2><i class="fas fa-film"></i> Menu</h2>

        <!-- My Funds Section (Glass effect applied via class styles) -->
        <div class="funds-section glass-card">
            <h3><i class="fas fa-wallet"></i> My Funds</h3>
            <p>
                KSH <span id="userBalanceSidebar">{{ user.balance }}</span>
            </p>
            <button class="menubtn disabled-btn" id="openDepositModalBtnSidebar" disabled>
                <i class="fas fa-plus-circle"></i> Deposit Funds (Coming Soon)
            </button>
        </div>

        <!-- Menu Buttons -->
        <button class="menubtn" id="openAccountModalBtnMobile"><i class="fas fa-user-circle"></i> My Account</button>
        <button class="menubtn" id="openTicketsModalBtnMobile"><i class="fas fa-ticket-alt"></i> My Tickets</button>
        <button class="menubtn logout-btn" id="logoutBtnMobile">
            <i class="fas fa-sign-out-alt"></i> Logout
        </button>
    </div>

    <div class="overlay" id="overlay"></div>

    <!-- Navigation - Now Sticky and Glassy -->
    <nav class="glass-nav">
        <a href="#" class="logo text-gradient">
            <i class="fas fa-film"></i> GOLD CINEMA
        </a>


        <ul>
            <li><a href="#featured">Featured</a></li>
            <li><a href="#movies">Movies</a></li>
            <li><a href="#concerts">Concerts</a></li>
            <li><a href="#plays">Plays</a></li>
            <li class="desktop-only"><a href="#" id="openAccountModalBtn"><i class="fas fa-user-circle"></i> My
                    Account</a>
            </li>
            <li class="desktop-only"><a href="#" id="openTicketsModalBtn"><i class="fas fa-ticket-alt"></i> My
                    Tickets</a>
            </li>
        </ul>
        <i class="fas fa-bars menu-btn" id="menu-btn"></i>
    </nav>


    <!-- Hero Section - High-Impact Cinematic Look -->
    <section id="hero" class="hero cinematic-hero">
        <div class="hero-content">
            <h1>Hi, {{ user.first_name|default:user.username }}! Welcome to Gold Cinema</h1>

            <div class="hero-features">
                <div class="hero-feature-tag tag-primary">
                    <i class="fas fa-video"></i> 4K Ultra HD
                </div>
                <div class="hero-feature-tag tag-secondary">
                    <i class="fas fa-volume-up"></i> Dolby Atmos
                </div>
                <div class="hero-feature-tag tag-primary">
                    <i class="fas fa-couch"></i> Recliner Seats
                </div>
                <div class="hero-feature-tag tag-secondary">
                    <i class="fas fa-wifi"></i> Free Wi-Fi
                </div>
            </div>
            <p class="hero-subtitle">Experience movies, plays, and concerts like never before — luxury, sound, and the
                magic of the big screen.</p>
            <button id="bookNowBtn" class="button button-gold-cta">Book Your Golden Seat Now <i
                    class="fas fa-arrow-right"></i></button>
        </div>
    </section>

    <!-- =========================
        FEATURED SPOTLIGHT (New Detail)
    ========================= -->
    <section id="featured" class="section-padded">
        <h2 class="section-title">Spotlight: The Golden Premier</h2>
        <div class="featured-card glass-card-dark">
            <div class="featured-content">
                <div class="featured-tags">
                    <span class="tag-primary">Premier</span>
                    <span class="tag-secondary">Limited Seats</span>
                </div>
                <h3 class="featured-title">Godzilla vs Kong:The New Empire</h3>
                <p class="featured-description">
                    Be the first to witness the highly anticipated final chapter of the cosmic saga. Exclusive midnight
                    showing with a complimentary Gold Pass and VIP seating included. Tickets are selling out fast!
                </p>
                <div class="featured-details">
                    <div><i class="fas fa-calendar-alt"></i> Dec 25, 2025</div>
                    <div><i class="fas fa-map-marker-alt"></i> Screen 07 (Dolby Atmos)</div>
                    <div><i class="fas fa-money-bill-wave"></i> KSH 2,500 VIP</div>
                </div>
                <button class="button button-gold-cta button-small"><a href="#movies"
                        style="text-decoration: none;">Secure Your Spot</a></button>
            </div>
        </div>
    </section>


    <!-- =========================
        NOW SHOWING CONCERTS
    ========================= -->
    <section id="concerts" class="section-padded">
        <h2 class="section-title"><i class="fas fa-music"></i> Live Concerts & Events</h2>
        <div class="movie-grid">
            {% for concert in concerts %}
            <div class="movie glass-card-light">
                <a href="{% url 'book_movie' concert.title %}">
                    {% if concert.poster %}
                    <img src="{{ concert.poster.url }}" alt="{{ concert.title }}" class="movie-poster">
                    {% else %}
                    <img src="https://placehold.co/400x600/1C2833/FFD700?text={{ concert.title|urlencode }}"
                        alt="{{ concert.title }}" class="movie-poster">
                    {% endif %}
                </a>
                <div class="movie-info">
                    <h3>{{ concert.title }}</h3>
                    <p>{{ concert.genre|default:"Concert" }} | {{ concert.duration }}</p>
                    <div class="rating"><i class="fas fa-star"></i> 4.7 (Live)</div>
                </div>
            </div>
            {% empty %}
            <p class="empty-message">No concerts currently showing. Check back soon!</p>
            {% endfor %}
        </div>
    </section>


    <!-- =========================
        NOW SHOWING MOVIES
    ========================= -->
    <section id="movies" class="section-padded">
        <h2 class="section-title"><i class="fas fa-video"></i> Latest Blockbuster Movies</h2>
        <div class="movie-grid">
            {% for movie in movies %}
            <div class="movie glass-card-light">
                <a href="{% url 'book_movie' movie.title %}">
                    {% if movie.poster %}
                    <img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="movie-poster">
                    {% else %}
                    <img src="https://placehold.co/400x600/1C2833/FFD700?text={{ movie.title|urlencode }}"
                        alt="{{ movie.title }}" class="movie-poster">
                    {% endif %}
                </a>
                <div class="movie-info">
                    <h3>{{ movie.title }}</h3>
                    <p>{{ movie.genre|default:"Movie" }} | {{ movie.duration }}</p>
                    <div class="rating"><i class="fas fa-star"></i> 4.5</div>
                </div>
            </div>
            {% empty %}
            <p class="empty-message">No movies currently showing. The projectionist is loading the reels!</p>
            {% endfor %}
        </div>
    </section>


    <!-- =========================
        NOW SHOWING PLAYS
    ========================= -->
    <section id="plays" class="section-padded">
        <h2 class="section-title"><i class="fas fa-theater-masks"></i> Theatre Plays & Drama</h2>
        <div class="movie-grid">
            {% for play in plays %}
            <div class="movie glass-card-light">
                <a href="{% url 'book_movie' play.title %}">
                    {% if play.poster %}
                    <img src="{{ play.poster.url }}" alt="{{ play.title }}" class="movie-poster">
                    {% else %}
                    <img src="https://placehold.co/400x600/1C2833/FFD700?text={{ play.title|urlencode }}"
                        alt="{{ play.title }}" class="movie-poster">
                    {% endif %}
                </a>
                <div class="movie-info">
                    <h3>{{ play.title }}</h3>
                    <p>{{ play.genre|default:"Play" }} | {{ play.duration }}</p>
                    <div class="rating"><i class="fas fa-star"></i> 4.8 (Critics Pick)</div>
                </div>
            </div>
            {% empty %}
            <p class="empty-message">No plays currently showing. The curtain is currently down.</p>
            {% endfor %}
        </div>

    </section>

    <!-- =========================
        LOYALTY CTA (New Detail)
    ========================= -->
    <section id="loyalty-cta" class="section-padded">
        <div class="loyalty-card glass-card-dark">
            <div class="loyalty-icon"><i class="fas fa-medal"></i></div>
            <div class="loyalty-content">
                <h2>Join the Gold Rewards Club!</h2>
                <p>Earn points with every ticket purchase and redeem them for free seats, premium snacks, and exclusive
                    event access. It's free to join!</p>
            </div>
            <button class="button button-gold-cta button-small">Sign Up Now</button>
        </div>
    </section>


    <!-- =========================
        WHY CHOOSE US SECTION
    ========================= -->
    <section id="features" class="section-padded">
        <h2 class="section-title">Why Choose Gold Cinema?</h2>
        <div class="features-grid">
            <div class="feature-card glass-card-light">
                <div class="feature-icon">
                    <i class="fas fa-couch"></i>
                </div>
                <h3>Premium Seating</h3>
                <p>Luxurious reclining seats with ample legroom for maximum comfort.</p>
            </div>
            <div class="feature-card glass-card-light">
                <div class="feature-icon">
                    <i class="fas fa-film"></i>
                </div>
                <h3>Latest Releases</h3>
                <p>Watch the newest blockbusters on the day of release, guaranteed.</p>
            </div>
            <div class="feature-card glass-card-light">
                <div class="feature-icon">
                    <i class="fas fa-volume-up"></i>
                </div>
                <h3>Dolby Atmos Sound</h3>
                <p>Immersive 360-degree audio experience that puts you right in the action.</p>
            </div>
            <div class="feature-card glass-card-light">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3>Easy Booking</h3>
                <p>Book your tickets online in seconds with our seamless and secure system.</p>
            </div>
        </div>
    </section>

    <!-- =========================
        COMING SOON SECTION
    ========================= -->
    <section id="coming-soon" class="section-padded">
        <h2 class="section-title"><i class="fas fa-clock"></i> Anticipated Releases</h2>
        <div class="movie-grid">
            <div class="movie glass-card-light">
                <div class="coming-soon-placeholder">
                    <i class="fas fa-hourglass-half"></i>
                    <h3>More Exciting Shows</h3>
                    <p>Stay Tuned for the next lineup announcement!</p>
                </div>
                <div class="movie-info">
                    <h3>Upcoming Releases</h3>
                    <p>Check back soon for new additions</p>
                </div>
            </div>
            <div class="movie glass-card-light">
                <div class="coming-soon-placeholder">
                    <i class="fas fa-calendar-plus"></i>
                    <h3>Blockbuster X</h3>
                    <p>Mystery Title - Q1 2026</p>
                </div>
                <div class="movie-info">
                    <h3>Mystery Film Title</h3>
                    <p>Action/Sci-Fi | TBA</p>
                </div>
            </div>
        </div>
    </section>

    <!-- =========================
        ENHANCED FOOTER
    ========================= -->
    <footer>
        <div class="footer-container">
            <div class="footer-grid">
                <!-- About Section -->
                <div>
                    <h3 class="footer-heading">
                        <i class="fas fa-film"></i> Gold Cinema
                    </h3>
                    <p class="footer-text">
                        Experience the magic of cinema with premium comfort, cutting-edge technology, and unforgettable
                        moments.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="footer-heading">Quick Links</h3>
                    <ul class="footer-list">
                        <li><a href="#movies" class="footer-link"><i class="fas fa-chevron-right"></i> Movies</a></li>
                        <li><a href="#concerts" class="footer-link"><i class="fas fa-chevron-right"></i> Concerts</a>
                        </li>
                        <li><a href="#plays" class="footer-link"><i class="fas fa-chevron-right"></i> Plays</a></li>
                        <li><a href="#features" class="footer-link"><i class="fas fa-chevron-right"></i> Why Choose
                                Us</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h3 class="footer-heading">Contact Us</h3>
                    <ul class="footer-list contact-info">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            123 Cinema Street, Nairobi
                        </li>
                        <li>
                            <i class="fas fa-phone"></i>
                            +254 700 000 000
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            info@goldcinema.com
                        </li>
                        <li>
                            <i class="fas fa-clock"></i>
                            Open Daily: 10 AM - 11 PM
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Copyright Section with Enhanced Styling -->
            <div class="copyright-section">
                <div class="shimmer-text">
                    <i class="fas fa-crown"></i>
                    © 2025 Gold Cinema. All Rights Reserved.
                </div>
                <p class="tagline">
                    Crafted with <i class="fas fa-heart" class="heartbeat"></i> for Movie Lovers
                </p>
                <div class="footer-policies">
                    <a href="#" class="policy-link">Privacy Policy</a>
                    <span>|</span>
                    <a href="#" class="policy-link">Terms of Service</a>
                    <span>|</span>
                    <a href="#" class="policy-link">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals (Styling from external CSS/Inclusions assumed to be sufficient, but added style hook for glass) -->
    <!-- Modals are defined later in the file with actual content. Placeholders removed to avoid ID conflicts. -->

    <!-- Modals are included above, but their content remains as per the user's original HTML.
    To avoid massive code duplication, I've left the original modal contents out and shown the placeholder,
    but the final file generation below will use the original content if available from the prompt history. -->

    <!-- =========================
        INLINE STYLES (Modern & Glassmorphism Implementation)
    ========================= -->
    <style>
        /* Base Reset & Fonts */
        body {
            font-family: 'Inter', sans-serif;
            background: url('{% static "images/cinema.jpg" %}') no-repeat center center/cover fixed;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Add overlay to body for better text readability over image */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 12, 41, 0.85);
            z-index: -1;
        }

        /* Utility Classes */
        .desktop-only {
            display: block;
        }

        .mobile-only {
            display: none;
        }

        .tag-primary {
            background-color: rgba(255, 215, 0, 0.1);
            color: #ffd700;
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 4px 10px;
            border-radius: 9999px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .tag-secondary {
            background-color: rgba(77, 77, 255, 0.1);
            color: #8c8cff;
            border: 1px solid rgba(77, 77, 255, 0.3);
            padding: 4px 10px;
            border-radius: 9999px;
            font-size: 0.8em;
            font-weight: 500;
        }

        /* ====================
           1. GLASS MORPHISM STYLES
           ==================== */

        /* General Glass Card Style */
        .glass-card,
        .glass-card-light,
        .glass-card-dark {
            background: rgba(255, 255, 255, 0.05);
            /* Very light base */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .glass-card-light {
            background: rgba(255, 255, 255, 0.03);
            /* Lighter opacity for more background visibility */
        }

        .glass-card-dark {
            background: rgba(0, 0, 0, 0.3);
            /* Darker opacity for sections */
        }

        .glass-card:hover,
        .glass-card-light:hover {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.1);
            transform: translateY(-5px);
        }

        /* Glass Nav */
        .glass-nav {
            background: rgba(15, 12, 41, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        /* Glass Modal (Targeting the inner content) */
        .modal .modal-content {
            background: linear-gradient(145deg, rgba(15, 12, 41, 0.95), rgba(48, 43, 99, 0.95));
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .modal {
            z-index: 10000 !important;
        }

        /* Sidebar Glass Effect */
        .sidebar {
            background: rgba(15, 12, 41, 0.95);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-right: 1px solid rgba(255, 215, 0, 0.2);
            box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3);
        }

        /* ====================
           2. NAVIGATION
           ==================== */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 3rem;
        }

        :root {
            --primary-gold: #FFD700;
            --gold-gradient: linear-gradient(to right, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
        }

        /* Utility Classes */
        .text-gradient {
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: inline-block;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            text-decoration: none;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: var(--primary-gold);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
            margin: 0;
            padding: 0;
        }

        nav a {
            color: #e0e0e0;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #ffd700;
        }

        nav a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: #ffd700;
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        .search-bar {
            position: relative;
        }

        .search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 8px 15px 8px 40px;
            color: #e0e0e0;
            width: 250px;
            transition: all 0.3s;
        }

        .search-input::placeholder {
            color: #a0a0a0;
        }

        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: #ffd700;
            width: 300px;
            outline: none;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #ffd700;
        }

        .menu-btn {
            display: none;
        }

        /* Only visible on mobile */

        /* ====================
           3. HERO & CTA BUTTONS
           ==================== */
        .cinematic-hero {
            background: url('{% static "images/cinema.jpg" %}') no-repeat center center/cover;
            position: relative;
            padding: 6rem 3rem;
            text-align: center;
            overflow: hidden;
        }

        .cinematic-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            /* Dark overlay */
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.9);
            /* Vignette effect */
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .cinematic-hero h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            font-weight: 800;
            color: #fff;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: #c0c0c0;
            max-width: 800px;
            margin: 0.5rem auto 2rem;
        }

        .hero-features {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .hero-feature-tag {
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .button {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .button-gold-cta {
            background: var(--gold-gradient);
            color: #1a1a1a;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }

        .button-gold-cta:hover {
            background: linear-gradient(to right, #AA771C, #FBF5B7, #B38728, #FCF6BA, #BF953F);
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.6);
            transform: translateY(-2px) scale(1.02);
        }

        .button-small {
            padding: 10px 20px;
            font-size: 1rem;
        }

        /* ====================
           4. SECTIONS & GRIDS
           ==================== */
        .section-padded {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
        }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            color: #ffd700;
            text-align: center;
            margin-bottom: 2.5rem;
            border-bottom: 2px solid rgba(255, 215, 0, 0.1);
            padding-bottom: 0.5rem;
        }

        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
        }

        .movie {
            text-align: center;
            overflow: hidden;
            padding: 15px;
        }

        .movie a {
            text-decoration: none;
            color: inherit;
        }

        .movie-poster {
            width: 100%;
            height: 330px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: transform 0.4s ease, filter 0.4s ease;
        }

        .movie:hover .movie-poster {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

        .movie-info h3 {
            font-size: 1.2rem;
            margin: 0.5rem 0 0.2rem;
            color: #fff;
        }

        .movie-info p {
            color: #a0a0a0;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .rating {
            color: #ffd700;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .empty-message {
            color: #888;
            font-style: italic;
            grid-column: 1 / -1;
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        /* Coming Soon Placeholder */
        .coming-soon-placeholder {
            height: 330px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255, 215, 0, 0.4);
            border-radius: 10px;
            color: #ffd700;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .coming-soon-placeholder i {
            font-size: 3em;
            margin-bottom: 0.5em;
        }

        .coming-soon-placeholder:hover {
            opacity: 1;
        }

        .movie:hover .coming-soon-placeholder {
            transform: scale(1.02);
        }

        /* Featured Card */
        .featured-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 3rem;
            background: rgba(255, 215, 0, 0.05);
            border-left: 5px solid #ffd700;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .featured-content {
            max-width: 80%;
        }

        .featured-tags {
            margin-bottom: 1rem;
            display: flex;
            gap: 10px;
        }

        .featured-title {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: #fff;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
        }

        .featured-description {
            color: #c0c0c0;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .featured-details div {
            display: inline-flex;
            align-items: center;
            margin-right: 20px;
            font-size: 0.95rem;
            color: #ffd700;
        }

        .featured-details i {
            margin-right: 8px;
            color: #fff;
        }

        /* Loyalty Card */
        .loyalty-card {
            display: flex;
            align-items: center;
            gap: 2rem;
            padding: 2rem 3rem;
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.1), rgba(48, 43, 99, 0.2));
            border-color: rgba(255, 215, 0, 0.3);
        }

        .loyalty-icon i {
            font-size: 4rem;
            color: #ffd700;
        }

        .loyalty-content {
            flex-grow: 1;
        }

        .loyalty-content h2 {
            font-family: 'Cinzel', serif;
            color: #fff;
            margin-top: 0;
        }

        .loyalty-content p {
            color: #c0c0c0;
            margin-bottom: 0;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2em;
        }

        .feature-card {
            padding: 2em;
            text-align: center;
        }

        .feature-icon {
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 0.5em;
        }

        .feature-card h3 {
            color: #ffd700;
            margin-bottom: 0.5em;
        }

        /* ====================
           5. FOOTER STYLES
           ==================== */
        footer {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 100%);
            padding: 3em 2em 1em;
            margin-top: 4em;
            border-top: 2px solid rgba(255, 215, 0, 0.3);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2em;
            margin-bottom: 2em;
        }

        .footer-heading {
            color: #ffd700;
            margin-bottom: 1em;
            font-size: 1.3em;
        }

        .footer-text {
            color: #e0e0e0;
            line-height: 1.8;
            margin-bottom: 1em;
        }

        .social-links a {
            color: #ffd700;
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .social-links a:hover {
            transform: scale(1.2);
        }

        .footer-list {
            list-style: none;
            padding: 0;
        }

        .footer-list li {
            margin-bottom: 0.8em;
            color: #e0e0e0;
        }

        .footer-link {
            color: #e0e0e0;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-link:hover {
            color: #ffd700;
            padding-left: 10px;
        }

        .contact-info i {
            color: #ffd700;
            margin-right: 0.5em;
        }

        .copyright-section {
            border-top: 1px solid rgba(255, 215, 0, 0.2);
            padding-top: 2em;
            margin-top: 2em;
            text-align: center;
        }

        .shimmer-text {
            background: linear-gradient(90deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 0.5em;
            animation: shimmer 3s infinite;
        }

        .tagline {
            color: #b0b0b0;
            font-size: 0.9em;
            margin-top: 0.5em;
        }

        .heartbeat {
            color: #ff4d4d;
            animation: heartbeat 1.5s infinite;
        }

        .footer-policies a {
            color: #999;
            text-decoration: none;
            margin: 0 1em;
            transition: color 0.3s;
        }

        .footer-policies a:hover {
            color: #ffd700;
        }

        .footer-policies span {
            color: #555;
        }

        /* ====================
           6. KEYFRAMES
           ==================== */
        @keyframes shimmer {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            25% {
                transform: scale(1.2);
            }

            50% {
                transform: scale(1);
            }
        }

        /* ====================
           7. RESPONSIVENESS (Mobile View)
           ==================== */
        @media (max-width: 1024px) {
            .featured-card {
                flex-direction: column;
                padding: 2rem;
                text-align: center;
            }

            .featured-content {
                max-width: 100%;
            }

            .featured-details {
                margin-bottom: 1.5rem;
            }

            .loyalty-card {
                flex-direction: column;
                text-align: center;
                padding: 2rem;
            }

            .loyalty-icon {
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 768px) {

            /* General */
            .desktop-only {
                display: none;
            }

            .mobile-only {
                display: block;
            }

            .section-padded {
                padding: 0 1rem;
            }

            /* Navigation */
            nav {
                padding: 1rem 1.5rem;
                flex-wrap: wrap;
            }

            nav ul {
                display: none;
            }

            /* Hide desktop menu */
            .logo {
                font-size: 1.5rem;
            }

            .menu-btn {
                display: block;
                font-size: 1.5rem;
                color: #ffd700;
                cursor: pointer;
                position: relative;
                top: auto;
                right: auto;
                width: auto;
                height: auto;
                background: none;
                border: none;
                box-shadow: none;
            }

            /* Sidebar Mobile Styling */
            .sidebar {
                width: 70vw;
                padding: 1.5rem;
                transform: translateX(-100%);
            }

            /* Hero Section */
            .cinematic-hero {
                padding: 4rem 1rem;
            }

            .cinematic-hero h1 {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .hero-features {
                gap: 10px;
            }

            .button {
                padding: 12px 25px;
                font-size: 1rem;
            }

            /* Sections and Grids */
            .section-title {
                font-size: 2rem;
            }

            .movie-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 1rem;
            }

            .movie-poster,
            .coming-soon-placeholder {
                height: 250px;
            }

            /* Featured Card Mobile */
            .featured-title {
                font-size: 1.5rem;
            }

            .featured-details {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .featured-details div {
                margin-right: 0;
            }

            /* Footer Mobile */
            .footer-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .footer-list {
                text-align: center;
                display: inline-block;
            }
        }
    </style>

    <!-- Tickets Booked Modal -->
    <div id="bookedTicketsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2><i class="fas fa-ticket-alt"></i> Your Booked Tickets</h2>
            <div id="bookedTicketsList">
                <p style="text-align: center; color: #c9a6ff;">Loading tickets...</p>
            </div>
        </div>
    </div>

    <!-- Account Modal -->
    <div id="accountModal" class="modal">
        <div class="modal-content">
            <span class="close-btn account-close">&times;</span>
            <h2><i class="fas fa-user-circle"></i> My Account</h2>

            <div id="accountContent">
                <div class="account-info">

                    <div class="account-field">
                        <label>Full Name:</label>
                        <span id="accountFullName">
                            {{ user.first_name }} {{ user.last_name }}
                        </span>
                    </div>

                    <div class="account-field">
                        <label>Email:</label>
                        <span id="accountEmail">{{ user.email }}</span>
                    </div>

                    <div class="account-field">
                        <label>Phone Number:</label>
                        <span id="accountPhone">
                            {% if user.phone %}{{ user.phone }}{% else %}Not provided{% endif %}
                        </span>
                    </div>

                    <div class="account-field">
                        <label>Location:</label>
                        <span id="accountLocation">
                            {% if user.city or user.address or user.zip_code %}
                            {{ user.city }} {{ user.address }} {{ user.zip_code }}
                            {% else %}
                            Not provided
                            {% endif %}
                        </span>
                    </div>

                    <!-- My Funds Section -->
                    <div class="account-field funds-section glass-card"
                        style="border-left: 4px solid #ffd700; padding: 15px; border-radius: 8px; margin-top: 15px;">
                        <label style="color: #ffd700; font-weight: 600;"><i class="fas fa-wallet"></i> My
                            Balance:</label>
                        <span style="font-size: 1.3em; color: #ffd700; font-weight: bold;">
                            KSH <span id="userBalanceModal">{{ user.balance }}</span>
                        </span>
                        <button class="menubtn disabled-btn" id="openDepositModalBtn" disabled
                            style="margin-top: 10px; width: 100%;">
                            <i class="fas fa-plus-circle"></i> Deposit Funds (Coming Soon)
                        </button>
                    </div>

                </div>

                <div class="account-actions">
                    <button id="editAccountBtn" class="action-btn">
                        <i class="fas fa-user-edit"></i> Edit Account
                    </button>
                    <button id="changePasswordBtn" class="action-btn">
                        <i class="fas fa-key"></i> Change Password
                    </button>
                    <button id="deleteAccountBtn" class="action-btn delete-btn">
                        <i class="fas fa-trash-alt"></i> Delete Account
                    </button>
                    <button id="logoutBtn" class="action-btn logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeEditProfile">&times;</span>
            <h2><i class="fas fa-user-edit"></i> Edit Profile</h2>

            <form id="editProfileForm">
                {% csrf_token %}
                <div class="form-group">
                    <label for="editFirstName">First Name</label>
                    <input type="text" id="editFirstName" name="first_name" value="{{ user.first_name }}" required>
                </div>

                <div class="form-group">
                    <label for="editLastName">Last Name</label>
                    <input type="text" id="editLastName" name="last_name" value="{{ user.last_name }}" required>
                </div>

                <div class="form-group">
                    <label for="editEmail">Email</label>
                    <input type="email" id="editEmail" name="email" value="{{ user.email }}" required>
                </div>

                <div class="form-group">
                    <label for="editPhone">Phone Number</label>
                    <input type="tel" id="editPhone" name="phone" value="{{ user.phone|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="editCity">City</label>
                    <input type="text" id="editCity" name="city" value="{{ user.city|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="editAddress">Address</label>
                    <input type="text" id="editAddress" name="address" value="{{ user.address|default:'' }}">
                </div>

                <div class="form-group">
                    <label for="editZipCode">Zip Code</label>
                    <input type="text" id="editZipCode" name="zip_code" value="{{ user.zip_code|default:'' }}">
                </div>

                <button type="submit" class="action-btn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </form>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeChangePassword">&times;</span>
            <h2><i class="fas fa-key"></i> Change Password</h2>

            <form id="changePasswordForm">
                {% csrf_token %}
                <div class="form-group">
                    <label for="currentPassword">Current Password</label>
                    <input type="password" id="currentPassword" name="current_password" required>
                </div>

                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" name="new_password" required>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">Confirm New Password</label>
                    <input type="password" id="confirmPassword" name="confirm_password" required>
                </div>

                <button type="submit" class="action-btn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-key"></i> Change Password
                </button>
            </form>
        </div>
    </div>

    <!-- Delete Account Confirmation Modal -->
    <div id="deleteAccountModal" class="modal">
        <div class="modal-content delete-modal">
            <span class="close-btn" id="closeDeleteAccount">&times;</span>
            <h2 style="color: #ff4d4d;"><i class="fas fa-exclamation-triangle"></i> Delete Account</h2>

            <p style="text-align: center; margin: 20px 0; color: #e0e0e0;">
                Are you sure you want to delete your account? This action cannot be undone and all your data will be
                permanently
                lost.
            </p>

            <form id="deleteAccountForm">
                {% csrf_token %}
                <div class="form-group">
                    <label for="deletePassword">Enter your password to confirm</label>
                    <input type="password" id="deletePassword" name="password" required>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="button" class="action-btn" id="cancelDelete" style="flex: 1;">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="action-btn delete-btn" style="flex: 1;">
                        <i class="fas fa-trash-alt"></i> Delete Account
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success/Error Notification Modal -->
    <div id="notificationModal" class="modal">
        <div class="modal-content notification-modal">
            <div class="notification-icon" id="notificationIcon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 id="notificationTitle">Success</h2>
            <p id="notificationMessage">Operation completed successfully!</p>
            <button class="action-btn" id="closeNotificationBtn" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-times"></i> Close
            </button>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div id="depositModal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <span class="close-btn" id="closeDepositModal">&times;</span>
            <h2 style="color: #4caf50;">Deposit Funds</h2>
            <form id="depositForm" method="POST" action="{% url 'deposit' %}">
                {% csrf_token %}
                <label for="amount" style="text-align: left; color: #ffd700;">Amount (KSH)</label>
                <input type="number" id="amount" name="amount" min="1" required
                    style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">
                <button type="submit" class="btn btn-primary"
                    style="width: 100%; background: #4caf50; border: none;">Deposit
                    Now</button>
            </form>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal">
        <div class="modal-content notification-modal">
            <div class="notification-icon" style="color: #ff4d4d;">
                <i class="fas fa-sign-out-alt"></i>
            </div>
            <h2 style="color: #ff4d4d;">Logout</h2>
            <p>Are you sure you want to logout?</p>
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 20px;">
                <button id="cancelLogoutBtn" class="action-btn"
                    style="background: rgba(255, 255, 255, 0.1);">Cancel</button>
                <button id="confirmLogoutBtn" class="action-btn delete-btn">Logout</button>
            </div>
        </div>
    </div>

    <!-- bookings JSON -->
    {{ bookings|json_script:"bookings-data" }}
    <script src="{% static 'js/script.js' %}"></script>


    <!-- Advisor Support Popup -->
    <a href="{% url 'advisor_list' %}" id="advisorSupportBtn"
        style="position: fixed; bottom: 20px; right: 20px; background: #ffd700; color: #1a1a1a; padding: 15px 20px; border-radius: 50px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5); display: flex; align-items: center; gap: 10px; z-index: 1000; transition: transform 0.3s ease;">
        <i class="fas fa-headset" style="font-size: 1.2em;"></i>
        <span>Advisor Support</span>
    </a>

    <script>
        // Note: This script assumes the necessary JavaScript functions (like for modal handling and sidebar toggle) are defined in script.js

        // Sidebar Toggle Script (Crucial for mobile experience)
        const menuBtn = document.getElementById('menu-btn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        function toggleSidebar() {
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        menuBtn.addEventListener('click', toggleSidebar);
        overlay.addEventListener('click', toggleSidebar);

        // Advisor Support button hover effect
        const supportBtn = document.getElementById('advisorSupportBtn');
        supportBtn.addEventListener('mouseenter', () => {
            supportBtn.style.transform = 'scale(1.05)';
        });
        supportBtn.addEventListener('mouseleave', () => {
            supportBtn.style.transform = 'scale(1)';
        });
    </script>

</body>

</html>